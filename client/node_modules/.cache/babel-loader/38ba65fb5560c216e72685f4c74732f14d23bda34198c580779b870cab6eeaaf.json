{"ast":null,"code":"var _jsxFileName = \"E:\\\\CHAT\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport io from 'socket.io-client';\nimport Chat from './Chat';\nimport { v4 as uuidv4 } from 'uuid';\nimport queryString from 'query-string';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst socket = io.connect(\"http://localhost:3001\"); // Change this to your server address\n\nfunction App() {\n  _s();\n  const [username, setUsername] = useState(\"\");\n  const [room, setRoom] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [showChat, setShowChat] = useState(false);\n  useEffect(() => {\n    const {\n      room,\n      password\n    } = queryString.parse(window.location.search);\n    if (room && password) {\n      setRoom(room);\n      setPassword(password);\n    }\n  }, []);\n  const createRoom = () => {\n    if (username !== \"\" && password !== \"\") {\n      const roomId = uuidv4();\n      setRoom(roomId);\n      socket.emit(\"create_room\", {\n        room: roomId,\n        password\n      });\n      setShowChat(true);\n    }\n  };\n  const joinRoom = () => {\n    if (username !== \"\" && room !== \"\" && password !== \"\") {\n      socket.emit(\"join_room\", {\n        room,\n        password\n      }, response => {\n        if (response.status === \"ok\") {\n          setShowChat(true);\n        } else {\n          alert(\"Incorrect room ID or password\");\n        }\n      });\n    }\n  };\n  const handleShare = () => {\n    const shareUrl = `${window.location.origin}/?room=${room}&password=${password}`;\n    navigator.clipboard.writeText(shareUrl);\n    alert(\"Room link copied to clipboard\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: !showChat ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"joinChatContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Create or Join a Room\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Username...\",\n        onChange: event => {\n          setUsername(event.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this), !room && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Password...\",\n          onChange: event => {\n            setPassword(event.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: createRoom,\n          children: \"Create Room\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true), room && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Room ID...\",\n          value: room,\n          onChange: event => {\n            setRoom(event.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Password...\",\n          onChange: event => {\n            setPassword(event.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: joinRoom,\n          children: \"Join Room\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleShare,\n          children: \"Share Room\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Chat, {\n      socket: socket,\n      username: username,\n      room: room\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"LFxnGN9ujxS+9nHHLuc2UoKt7nE=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","io","Chat","v4","uuidv4","queryString","jsxDEV","_jsxDEV","Fragment","_Fragment","socket","connect","App","_s","username","setUsername","room","setRoom","password","setPassword","showChat","setShowChat","parse","window","location","search","createRoom","roomId","emit","joinRoom","response","status","alert","handleShare","shareUrl","origin","navigator","clipboard","writeText","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","event","target","value","onClick","_c","$RefreshReg$"],"sources":["E:/CHAT/client/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport io from 'socket.io-client';\nimport Chat from './Chat';\nimport { v4 as uuidv4 } from 'uuid';\nimport queryString from 'query-string';\n\nconst socket = io.connect(\"http://localhost:3001\"); // Change this to your server address\n\nfunction App() {\n  const [username, setUsername] = useState(\"\");\n  const [room, setRoom] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [showChat, setShowChat] = useState(false);\n\n  useEffect(() => {\n    const { room, password } = queryString.parse(window.location.search);\n    if (room && password) {\n      setRoom(room);\n      setPassword(password);\n    }\n  }, []);\n\n  const createRoom = () => {\n    if (username !== \"\" && password !== \"\") {\n      const roomId = uuidv4();\n      setRoom(roomId);\n      socket.emit(\"create_room\", { room: roomId, password });\n      setShowChat(true);\n    }\n  };\n\n  const joinRoom = () => {\n    if (username !== \"\" && room !== \"\" && password !== \"\") {\n      socket.emit(\"join_room\", { room, password }, (response) => {\n        if (response.status === \"ok\") {\n          setShowChat(true);\n        } else {\n          alert(\"Incorrect room ID or password\");\n        }\n      });\n    }\n  };\n\n  const handleShare = () => {\n    const shareUrl = `${window.location.origin}/?room=${room}&password=${password}`;\n    navigator.clipboard.writeText(shareUrl);\n    alert(\"Room link copied to clipboard\");\n  };\n\n  return (\n    <div className=\"App\">\n      {!showChat ? (\n        <div className=\"joinChatContainer\">\n          <h3>Create or Join a Room</h3>\n          <input\n            type=\"text\"\n            placeholder=\"Username...\"\n            onChange={(event) => {\n              setUsername(event.target.value);\n            }}\n          />\n          {!room && (\n            <>\n              <input\n                type=\"password\"\n                placeholder=\"Password...\"\n                onChange={(event) => {\n                  setPassword(event.target.value);\n                }}\n              />\n              <button onClick={createRoom}>Create Room</button>\n            </>\n          )}\n          {room && (\n            <>\n              <input\n                type=\"text\"\n                placeholder=\"Room ID...\"\n                value={room}\n                onChange={(event) => {\n                  setRoom(event.target.value);\n                }}\n              />\n              <input\n                type=\"password\"\n                placeholder=\"Password...\"\n                onChange={(event) => {\n                  setPassword(event.target.value);\n                }}\n              />\n              <button onClick={joinRoom}>Join Room</button>\n              <button onClick={handleShare}>Share Room</button>\n            </>\n          )}\n        </div>\n      ) : (\n        <Chat socket={socket} username={username} room={room} />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}